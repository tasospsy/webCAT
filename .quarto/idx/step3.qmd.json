{"title":"Step 3.1 - Setup Block","markdown":{"yaml":{},"headingText":"Step 3.1 - Setup Block","containsRefs":false,"markdown":"\n\nIn this step, we show you how to set up a basic Qualtrics test/survey and connect it to the test specifications from steps 1 and 2 of this tutorial. We use the Dutch-English vocabulary test of 36 dichotomous items as an example (<https://osf.io/ymh3d/files/sk9hx>), with the following specifications:\n\n|              |        |\n|--------------|--------|\n| Test name    | `TCAT` |\n| Personal key | `test` |\n\nIt is a variable length CAT calibrated under a 2PL model. The stopping criterion is set to `0.33`meaning that the test will stop when the standard error of the latent trait estimate reaches 0.33 or lower.\n\n\nEnter the Qualtrics website and log in with your credentials.\n\nGo to **Home page** — **Create a new project** — **Survey** — and click **Get started.**\n\nEnter a Name for the Qualtrics project.\n\n::: callout-note\nThe Qualtric project name is **not** the same as the Test name you specified on this tutorial.\n:::\n\n![](images/Screenshot%202025-12-02%20at%2008.00.42.png){fig-align=\"center\" width=\"400\"}\n\nOnce you create a new project, select **Add a new question**.\n\nFrom the left panel, under **Question Type**, choose **Text entry** type of question.\n\n![](images/Screenshot%202025-12-02%20at%2008.02.33.png){#sc2 fig-align=\"center\"}\n\nChange the question text to '**Enter Test/Survey name**'.\n\n![](images/Screenshot%202025-12-02%20at%2008.02.49.png){fig-align=\"center\"}\n\nBy clicking on the three dots menu on the right corner of the new question, select **Copy** to create a similar question type.\n\n![](images/Screenshot%202025-12-02%20at%2008.03.06.png){fig-align=\"center\"}\n\nChange the question text to '**Enter key'** at the second question.\n\n![](images/Screenshot%202025-12-02%20at%2008.03.21.png){fig-align=\"center\"}\n\nThese two questions belong to a single block, which will be the first block in your test. This block is crucial, as it links the Qualtrics survey to the correct test specifications you set up in Steps 1 and 2.\n\nRename the first **Block** as 'Setup' block, by changing the label above the first question.\n\n![](images/Screenshot%202025-12-02%20at%2008.03.59.png)\n\nThen, for the '**Enter Test/Survey Name'** question, select **Add requirements** and **Force response** under the **response Requirements** options on the left panel.\n\nRepeat for the '**Enter Key'** question.\n\n![](images/Screenshot%202025-12-02%20at%2008.04.png)\n\nThen, select '**Default choices**' from the options on the left panel. Enter the name of your test in the first question, and click '**Save**'. (For this tutorial paste `TCAT`)\n\nThen repeat the process for the second question, entering the personal key that was generated previously. (For this tutorial paste `test`)\n\n![](images/Screenshot%202025-12-19%20at%2007.54.45.png)\n\n![](images/Screenshot%202025-12-19%20at%2007.55.21.png)\n\n### Step 3.2 Introduction Block (*optional*)\n\n1.  Add a new block by selecting **Add Block**\n\n2.  Rename the new block as 'Intro'\n\n3.  Add new question to the block by selecting '**Add new question'**\n\n4.  and then '**Text / Graphic**' type\n\n![](images/Screenshot%202025-12-19%20at%2008.13.34.png)\n\nThis does not serve as an actual question; rather, it displays all the necessary information for the test user. You can use it to introduce your test before item administration starts.\n\n::: callout-tip\nYou can add new questions to the 'Intro' block. For example, you could add a single-choice question to ask for informed consent.\n:::\n\n![](images/Screenshot%202025-12-19%20at%2008.18.16.png)\n\n### Step 3.2 Extra Block (*optional*)\n\nSimilarly, you can add an additional block, here labelled as 'Extra' block , with additional questions that you would like to appear before the actual CAT survey. These may be demographic or other personal questions.\n\n::: callout-note\nNo CAT methods are configured for the ‘Extra’ bolck. All users will be asked the same questions.\n:::\n\n![](images/Screenshot%202026.png)\n\nIn the example below, the 'Extra Block' consists of two questions: One is for gender and the other is for age.\n\n![](images/Screenshot%202025-12-19%20at%2008.32.59.png)\n\n### Step 3.3 CAT Initialization Block\n\nSimilarly,\n\n1.  we add a new block,\n2.  rename it to 'init block'\n3.  add a new **Text / Entry** question type,\n4.  and enter the phrase 'Loading...' as question text.\n\n![](images/Screenshot%202025-12-02%20at%2008.08.08.png){fig-align=\"center\"}\n\nFor the 'Loading...' question, select the '**Javascript'** option from the left panel.\n\n![]()\n\n![](images/Screenshot%202025-12-02%20at%2008.08.16.png)\n\nA new window will appear as shown below.\n\n![](images/Screenshot%202025-12-02%20at%2008.10.10.png)\n\nReplace the default lines of code with the script below and click '**Save**':\n\n``` javascript\nQualtrics.SurveyEngine.addOnload(function() {\n    // CALL\n    fetch(\"https://qualcat.duckdns.org/api/v0/init\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"x-api-key\": \"${q://QID2/ChoiceTextEntryValue}\", // passwrd\n      \"userid\": \"${e://Field/SessionID}\", // username\n      \"catName\": \"${q://QID1/ChoiceTextEntryValue}\" // CAT name\n    },\n    body: JSON.stringify(answers)\n  })\n  .then(response => response.json())\n  .then(data => {\n    console.log(\"API returned:\", data); // Debug\n    // Store the API result in Embedded Data\n    Qualtrics.SurveyEngine.setEmbeddedData(\"stop_crit\", data.stop_crit);\n    Qualtrics.SurveyEngine.setEmbeddedData(\"next_q\", data.next_q);\n    Qualtrics.SurveyEngine.setEmbeddedData(\"item_num\", data.item_num);\n    var arr = data.choices;\n    for (var i = 0; i < arr.length; i++) {\n        var varName = \"choice\" + (i + 1);\n        Qualtrics.SurveyEngine.setEmbeddedData(varName, arr[i]);\n    }\n  })\n  .catch(err => console.error(\"API error:\", err));\n\n    //Hides the next button and displays the question\n    //for # seconds before moving to the next page\n    // from Qualtrics documentation\n    this.hideNextButton();\n    var that = this;\n    (function(){that.clickNextButton();}).delay(4);\n});\n```\n\n### Step 3.4 Question Block\n\nAdd a new block, labelled as 'Question Block'.\n\nThen, add a **Multiple choice** question type.\n\n![](images/Screenshot%202025-12-02%20at%2008.12.25.png)\n\n-   Select **Choices** from the left panel and choose the number of response options for your test under **Number of choices**. Here is set to 4.\n\n-   Replace the 'Click to write the question text' with this line `${e://Field/next_q}`\n\n-   Replace the 'Click to write Choice 1' with `${e://Field/choice1},`'Click to write Choice 2' with `${e://Field/choice2}` . Repeat this process for each of the available choices.\n\n![](images/Screenshot%202025-12-02%20at%2008.13.19.png)\n\nNext, click the '**Javascript**' button on the left panel, erase the default script, paste the following and click '**Save**':\n\n``` javascript\nQualtrics.SurveyEngine.addOnReady(function() {\n\n    // 1. clear Qualtrics internal answer\n    this.setChoiceValue(\"\", false);\n\n    // 2. clear any recorded choice values\n    var choices = this.getChoices();\n    for (var i = 0; i < choices.length; i++) {\n        this.setChoiceValue(choices[i], false);\n    }\n\n    // 3. clear UI radios\n    jQuery(\"#\" + this.questionId + \" input[type='radio']\").prop(\"checked\", false);\n});\n```\n\nIf you would like the questions to be randomly administered, select '**Choice** **Randomization'** on the left panel.\n\n![](images/Screenshot%202025-12-03%20at%2019.19.54%20(2).png)\n\nThen choose '**Display answers in a random order**' and click '**Save**'.\n\n![](images/Screenshot%202025-12-03%20at%2019.20.04%20(2).png)\n\n::: callout-tip\n**Tip for maximum performance tests:** When you make the item bank in Step 2, it is convenient to paste all the correct answers into column `Choice1` and make the `Scores` column the same for all the items (e.g. `1000` for dichotomous items). Then, when you come to this step, you can choose 'Display answers in a random order'.\n:::\n\n::: callout-note\nFor typical performance tests including Likert-type items, for example, you should **not** randomize the order of the response options since these appear in a fixed order.\n:::\n\n### Step 3.5 - Main CAT Block\n\n1.  Add a new question block named 'cat block'\n2.  Add a **Text/Graphic** type of question,\n3.  and replace the question text with an empty space.\n4.  Then, click **Javascript,** erase everything and add the following JS code\n\n![](images/Screenshot%202025-12-02%20at%2008.14.20.png)\n\n``` javascript\nQualtrics.SurveyEngine.addOnload(function()\n{\n     let answers = {\n    q_resp: \"${q://QID6/SelectedChoicesRecode}\",\n    item_num: \"${e://Field/item_num}\"\n  };\n  \n  console.log(\"API sent:\", answers);\n    // CALL\n    fetch(\"https://qualcat.duckdns.org/api/v0/cat\", {\n    method: \"POST\",\n    headers: {\n         \"Content-Type\": \"application/json\",\n      \"x-api-key\": \"${q://QID2/ChoiceTextEntryValue}\", // passwrd\n      \"userid\": \"${e://Field/SessionID}\", // username\n      \"catName\": \"${q://QID1/ChoiceTextEntryValue}\" // CAT name\n    },\n    body: JSON.stringify(answers)\n  })\n  .then(res => res.json())\n  .then(data => {\n    console.log(\"API returned:\", data); // Debug\n    // Store the API result in Embedded Data\n    Qualtrics.SurveyEngine.setEmbeddedData(\"iter\", data.iter);\n    Qualtrics.SurveyEngine.setEmbeddedData(\"next_q\", data.item);\n    Qualtrics.SurveyEngine.setEmbeddedData(\"item_num\", data.item_num);\n    Qualtrics.SurveyEngine.setEmbeddedData(\"se_thetahat\", data.se_thetahat);\n    Qualtrics.SurveyEngine.setEmbeddedData(\"thetahat\", data.thetahat);  \n    Qualtrics.SurveyEngine.setEmbeddedData(\"pat\", data.pat);\n    Qualtrics.SurveyEngine.setEmbeddedData(\"J\", data.pat.length);\n    Qualtrics.SurveyEngine.setEmbeddedData(\"adm_items\", data.iter);\n    Qualtrics.SurveyEngine.setEmbeddedData(\"stop\", data.stop); //v0.2\n    var arr = data.choices;\n    for (var i = 0; i < arr.length; i++) {\n        var varName = \"choice\" + (i + 1);\n        Qualtrics.SurveyEngine.setEmbeddedData(varName, arr[i]);\n    }\n  })\n  .catch(err => console.error(\"API error:\", err));\n\n//Hides the next button and displays the question\n    //for # seconds before moving to the next page\n    // from Qualtrics documentation\n    this.hideNextButton();\n    var that = this;\n    (function(){that.clickNextButton();}).delay(1);\n\n});\n```\n\n### Step 3.6 - Survey Flow Setup\n\nClick the **Survey Flow** button on the left side bar.\n\n![](images/Screenshot%202025-12-02%20at%2008.18.49.png)\n\nAll the question blocks we created before, should be visible in a sequential flow as shown below.\n\n::: callout-note\nIn this example no 'Extra Block' is displayed. If you used an extra questions block, it would be visible under the 'Intro' block.\n:::\n\n![](images/Screenshot%202025-12-02%20at%2008.19.43.png)\n\nIn the init block, click **Add Below** and select **Group.**\n\n![](images/Screenshot%202025-12-02%20at%2008.20.10.png)\n\nRename the new group as 'loop' .\n\nThen click **Move** next to the **Question Block** and move it by dragging it under the **Group.** As such we make the Question block part of the group.\n\n![](images/Screenshot%202025-12-02%20at%2008.20.53.png)\n\nRepeat for the **cat block** to make it part of the loop group.\n\nthen click **+ Add a New Element** under the cat block, inside the group.\n\n![](images/Screenshot%202025-12-02%20at%2008.21.06.png)\n\nSelect **Branch**\n\n![](images/Screenshot%202025-12-02%20at%2008.21.14.png)\n\nClick **Add a Condition**\n\n![](images/Screenshot%202025-12-02%20at%2008.21.24.png)\n\nSelect 'Embedded Data'.\n\n![](images/Screenshot%202025-12-02%20at%2008.21.46.png)\n\n1.  Enter the word 'stop' for the embedded data\n\n2.  Select 'Is Equal To' and enter the number '1'\n\n3.  Click OK\n\n4.  Add a New Element [below]{.underline} the if branch\n\n![](images/Screenshot%202025-12-02%20at%2008.21.56.png)\n\nSelect the **End of Survey** element\n\n![](images/Screenshot%202025-12-02%20at%2008.22.05.png)\n\nThen, click the button **Duplicate** next to the loop group, as many times as the available total number of items.\n\nIn this example, the itembank consists of 36 items in total, therefore we click the button **Duplicate** 36 times.\n\n![](images/Screenshot%202025-12-02%20at%2008.22.49.png)\n\n1.  If we zoom out we should see the loop group duplicated by 36 times.\n\n2.  Then click **Apply** to apply this flow set up to the survey.\n\n![](images/Screenshot%202025-12-02%20at%2008.23.32.png)\n\n### Step 3.7 - Publish the Test/Survey\n\n1.  Go to '**Survey Options**'\n\n2.  Select '**Responses'**\n\n3.  and make sure to uncheck the radio buttons for the Back Button and Allow respondents to finish later\n\n![](images/Screenshot%202025-12-02%20at%2008.39.24.png)\n\n1.  Then go to '**Builder**' options again, and\n2.  click '**Publish**'\n\n![](images/Screenshot%202025-12-02%20at%2008.24.03.png)\n\nAfter following short instructions, the survey will be published and a unique anonymous URL will be activated.\n\n![](images/Screenshot%202025-12-02%20at%2008.24.24.png)\n","srcMarkdownNoYaml":"\n\nIn this step, we show you how to set up a basic Qualtrics test/survey and connect it to the test specifications from steps 1 and 2 of this tutorial. We use the Dutch-English vocabulary test of 36 dichotomous items as an example (<https://osf.io/ymh3d/files/sk9hx>), with the following specifications:\n\n|              |        |\n|--------------|--------|\n| Test name    | `TCAT` |\n| Personal key | `test` |\n\nIt is a variable length CAT calibrated under a 2PL model. The stopping criterion is set to `0.33`meaning that the test will stop when the standard error of the latent trait estimate reaches 0.33 or lower.\n\n### Step 3.1 - Setup Block\n\nEnter the Qualtrics website and log in with your credentials.\n\nGo to **Home page** — **Create a new project** — **Survey** — and click **Get started.**\n\nEnter a Name for the Qualtrics project.\n\n::: callout-note\nThe Qualtric project name is **not** the same as the Test name you specified on this tutorial.\n:::\n\n![](images/Screenshot%202025-12-02%20at%2008.00.42.png){fig-align=\"center\" width=\"400\"}\n\nOnce you create a new project, select **Add a new question**.\n\nFrom the left panel, under **Question Type**, choose **Text entry** type of question.\n\n![](images/Screenshot%202025-12-02%20at%2008.02.33.png){#sc2 fig-align=\"center\"}\n\nChange the question text to '**Enter Test/Survey name**'.\n\n![](images/Screenshot%202025-12-02%20at%2008.02.49.png){fig-align=\"center\"}\n\nBy clicking on the three dots menu on the right corner of the new question, select **Copy** to create a similar question type.\n\n![](images/Screenshot%202025-12-02%20at%2008.03.06.png){fig-align=\"center\"}\n\nChange the question text to '**Enter key'** at the second question.\n\n![](images/Screenshot%202025-12-02%20at%2008.03.21.png){fig-align=\"center\"}\n\nThese two questions belong to a single block, which will be the first block in your test. This block is crucial, as it links the Qualtrics survey to the correct test specifications you set up in Steps 1 and 2.\n\nRename the first **Block** as 'Setup' block, by changing the label above the first question.\n\n![](images/Screenshot%202025-12-02%20at%2008.03.59.png)\n\nThen, for the '**Enter Test/Survey Name'** question, select **Add requirements** and **Force response** under the **response Requirements** options on the left panel.\n\nRepeat for the '**Enter Key'** question.\n\n![](images/Screenshot%202025-12-02%20at%2008.04.png)\n\nThen, select '**Default choices**' from the options on the left panel. Enter the name of your test in the first question, and click '**Save**'. (For this tutorial paste `TCAT`)\n\nThen repeat the process for the second question, entering the personal key that was generated previously. (For this tutorial paste `test`)\n\n![](images/Screenshot%202025-12-19%20at%2007.54.45.png)\n\n![](images/Screenshot%202025-12-19%20at%2007.55.21.png)\n\n### Step 3.2 Introduction Block (*optional*)\n\n1.  Add a new block by selecting **Add Block**\n\n2.  Rename the new block as 'Intro'\n\n3.  Add new question to the block by selecting '**Add new question'**\n\n4.  and then '**Text / Graphic**' type\n\n![](images/Screenshot%202025-12-19%20at%2008.13.34.png)\n\nThis does not serve as an actual question; rather, it displays all the necessary information for the test user. You can use it to introduce your test before item administration starts.\n\n::: callout-tip\nYou can add new questions to the 'Intro' block. For example, you could add a single-choice question to ask for informed consent.\n:::\n\n![](images/Screenshot%202025-12-19%20at%2008.18.16.png)\n\n### Step 3.2 Extra Block (*optional*)\n\nSimilarly, you can add an additional block, here labelled as 'Extra' block , with additional questions that you would like to appear before the actual CAT survey. These may be demographic or other personal questions.\n\n::: callout-note\nNo CAT methods are configured for the ‘Extra’ bolck. All users will be asked the same questions.\n:::\n\n![](images/Screenshot%202026.png)\n\nIn the example below, the 'Extra Block' consists of two questions: One is for gender and the other is for age.\n\n![](images/Screenshot%202025-12-19%20at%2008.32.59.png)\n\n### Step 3.3 CAT Initialization Block\n\nSimilarly,\n\n1.  we add a new block,\n2.  rename it to 'init block'\n3.  add a new **Text / Entry** question type,\n4.  and enter the phrase 'Loading...' as question text.\n\n![](images/Screenshot%202025-12-02%20at%2008.08.08.png){fig-align=\"center\"}\n\nFor the 'Loading...' question, select the '**Javascript'** option from the left panel.\n\n![]()\n\n![](images/Screenshot%202025-12-02%20at%2008.08.16.png)\n\nA new window will appear as shown below.\n\n![](images/Screenshot%202025-12-02%20at%2008.10.10.png)\n\nReplace the default lines of code with the script below and click '**Save**':\n\n``` javascript\nQualtrics.SurveyEngine.addOnload(function() {\n    // CALL\n    fetch(\"https://qualcat.duckdns.org/api/v0/init\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"x-api-key\": \"${q://QID2/ChoiceTextEntryValue}\", // passwrd\n      \"userid\": \"${e://Field/SessionID}\", // username\n      \"catName\": \"${q://QID1/ChoiceTextEntryValue}\" // CAT name\n    },\n    body: JSON.stringify(answers)\n  })\n  .then(response => response.json())\n  .then(data => {\n    console.log(\"API returned:\", data); // Debug\n    // Store the API result in Embedded Data\n    Qualtrics.SurveyEngine.setEmbeddedData(\"stop_crit\", data.stop_crit);\n    Qualtrics.SurveyEngine.setEmbeddedData(\"next_q\", data.next_q);\n    Qualtrics.SurveyEngine.setEmbeddedData(\"item_num\", data.item_num);\n    var arr = data.choices;\n    for (var i = 0; i < arr.length; i++) {\n        var varName = \"choice\" + (i + 1);\n        Qualtrics.SurveyEngine.setEmbeddedData(varName, arr[i]);\n    }\n  })\n  .catch(err => console.error(\"API error:\", err));\n\n    //Hides the next button and displays the question\n    //for # seconds before moving to the next page\n    // from Qualtrics documentation\n    this.hideNextButton();\n    var that = this;\n    (function(){that.clickNextButton();}).delay(4);\n});\n```\n\n### Step 3.4 Question Block\n\nAdd a new block, labelled as 'Question Block'.\n\nThen, add a **Multiple choice** question type.\n\n![](images/Screenshot%202025-12-02%20at%2008.12.25.png)\n\n-   Select **Choices** from the left panel and choose the number of response options for your test under **Number of choices**. Here is set to 4.\n\n-   Replace the 'Click to write the question text' with this line `${e://Field/next_q}`\n\n-   Replace the 'Click to write Choice 1' with `${e://Field/choice1},`'Click to write Choice 2' with `${e://Field/choice2}` . Repeat this process for each of the available choices.\n\n![](images/Screenshot%202025-12-02%20at%2008.13.19.png)\n\nNext, click the '**Javascript**' button on the left panel, erase the default script, paste the following and click '**Save**':\n\n``` javascript\nQualtrics.SurveyEngine.addOnReady(function() {\n\n    // 1. clear Qualtrics internal answer\n    this.setChoiceValue(\"\", false);\n\n    // 2. clear any recorded choice values\n    var choices = this.getChoices();\n    for (var i = 0; i < choices.length; i++) {\n        this.setChoiceValue(choices[i], false);\n    }\n\n    // 3. clear UI radios\n    jQuery(\"#\" + this.questionId + \" input[type='radio']\").prop(\"checked\", false);\n});\n```\n\nIf you would like the questions to be randomly administered, select '**Choice** **Randomization'** on the left panel.\n\n![](images/Screenshot%202025-12-03%20at%2019.19.54%20(2).png)\n\nThen choose '**Display answers in a random order**' and click '**Save**'.\n\n![](images/Screenshot%202025-12-03%20at%2019.20.04%20(2).png)\n\n::: callout-tip\n**Tip for maximum performance tests:** When you make the item bank in Step 2, it is convenient to paste all the correct answers into column `Choice1` and make the `Scores` column the same for all the items (e.g. `1000` for dichotomous items). Then, when you come to this step, you can choose 'Display answers in a random order'.\n:::\n\n::: callout-note\nFor typical performance tests including Likert-type items, for example, you should **not** randomize the order of the response options since these appear in a fixed order.\n:::\n\n### Step 3.5 - Main CAT Block\n\n1.  Add a new question block named 'cat block'\n2.  Add a **Text/Graphic** type of question,\n3.  and replace the question text with an empty space.\n4.  Then, click **Javascript,** erase everything and add the following JS code\n\n![](images/Screenshot%202025-12-02%20at%2008.14.20.png)\n\n``` javascript\nQualtrics.SurveyEngine.addOnload(function()\n{\n     let answers = {\n    q_resp: \"${q://QID6/SelectedChoicesRecode}\",\n    item_num: \"${e://Field/item_num}\"\n  };\n  \n  console.log(\"API sent:\", answers);\n    // CALL\n    fetch(\"https://qualcat.duckdns.org/api/v0/cat\", {\n    method: \"POST\",\n    headers: {\n         \"Content-Type\": \"application/json\",\n      \"x-api-key\": \"${q://QID2/ChoiceTextEntryValue}\", // passwrd\n      \"userid\": \"${e://Field/SessionID}\", // username\n      \"catName\": \"${q://QID1/ChoiceTextEntryValue}\" // CAT name\n    },\n    body: JSON.stringify(answers)\n  })\n  .then(res => res.json())\n  .then(data => {\n    console.log(\"API returned:\", data); // Debug\n    // Store the API result in Embedded Data\n    Qualtrics.SurveyEngine.setEmbeddedData(\"iter\", data.iter);\n    Qualtrics.SurveyEngine.setEmbeddedData(\"next_q\", data.item);\n    Qualtrics.SurveyEngine.setEmbeddedData(\"item_num\", data.item_num);\n    Qualtrics.SurveyEngine.setEmbeddedData(\"se_thetahat\", data.se_thetahat);\n    Qualtrics.SurveyEngine.setEmbeddedData(\"thetahat\", data.thetahat);  \n    Qualtrics.SurveyEngine.setEmbeddedData(\"pat\", data.pat);\n    Qualtrics.SurveyEngine.setEmbeddedData(\"J\", data.pat.length);\n    Qualtrics.SurveyEngine.setEmbeddedData(\"adm_items\", data.iter);\n    Qualtrics.SurveyEngine.setEmbeddedData(\"stop\", data.stop); //v0.2\n    var arr = data.choices;\n    for (var i = 0; i < arr.length; i++) {\n        var varName = \"choice\" + (i + 1);\n        Qualtrics.SurveyEngine.setEmbeddedData(varName, arr[i]);\n    }\n  })\n  .catch(err => console.error(\"API error:\", err));\n\n//Hides the next button and displays the question\n    //for # seconds before moving to the next page\n    // from Qualtrics documentation\n    this.hideNextButton();\n    var that = this;\n    (function(){that.clickNextButton();}).delay(1);\n\n});\n```\n\n### Step 3.6 - Survey Flow Setup\n\nClick the **Survey Flow** button on the left side bar.\n\n![](images/Screenshot%202025-12-02%20at%2008.18.49.png)\n\nAll the question blocks we created before, should be visible in a sequential flow as shown below.\n\n::: callout-note\nIn this example no 'Extra Block' is displayed. If you used an extra questions block, it would be visible under the 'Intro' block.\n:::\n\n![](images/Screenshot%202025-12-02%20at%2008.19.43.png)\n\nIn the init block, click **Add Below** and select **Group.**\n\n![](images/Screenshot%202025-12-02%20at%2008.20.10.png)\n\nRename the new group as 'loop' .\n\nThen click **Move** next to the **Question Block** and move it by dragging it under the **Group.** As such we make the Question block part of the group.\n\n![](images/Screenshot%202025-12-02%20at%2008.20.53.png)\n\nRepeat for the **cat block** to make it part of the loop group.\n\nthen click **+ Add a New Element** under the cat block, inside the group.\n\n![](images/Screenshot%202025-12-02%20at%2008.21.06.png)\n\nSelect **Branch**\n\n![](images/Screenshot%202025-12-02%20at%2008.21.14.png)\n\nClick **Add a Condition**\n\n![](images/Screenshot%202025-12-02%20at%2008.21.24.png)\n\nSelect 'Embedded Data'.\n\n![](images/Screenshot%202025-12-02%20at%2008.21.46.png)\n\n1.  Enter the word 'stop' for the embedded data\n\n2.  Select 'Is Equal To' and enter the number '1'\n\n3.  Click OK\n\n4.  Add a New Element [below]{.underline} the if branch\n\n![](images/Screenshot%202025-12-02%20at%2008.21.56.png)\n\nSelect the **End of Survey** element\n\n![](images/Screenshot%202025-12-02%20at%2008.22.05.png)\n\nThen, click the button **Duplicate** next to the loop group, as many times as the available total number of items.\n\nIn this example, the itembank consists of 36 items in total, therefore we click the button **Duplicate** 36 times.\n\n![](images/Screenshot%202025-12-02%20at%2008.22.49.png)\n\n1.  If we zoom out we should see the loop group duplicated by 36 times.\n\n2.  Then click **Apply** to apply this flow set up to the survey.\n\n![](images/Screenshot%202025-12-02%20at%2008.23.32.png)\n\n### Step 3.7 - Publish the Test/Survey\n\n1.  Go to '**Survey Options**'\n\n2.  Select '**Responses'**\n\n3.  and make sure to uncheck the radio buttons for the Back Button and Allow respondents to finish later\n\n![](images/Screenshot%202025-12-02%20at%2008.39.24.png)\n\n1.  Then go to '**Builder**' options again, and\n2.  click '**Publish**'\n\n![](images/Screenshot%202025-12-02%20at%2008.24.03.png)\n\nAfter following short instructions, the survey will be published and a unique anonymous URL will be activated.\n\n![](images/Screenshot%202025-12-02%20at%2008.24.24.png)\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":false,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":"all","plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":true,"code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["styles.css"],"toc":true,"output-file":"step3.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.4.554","editor":"visual","server":{"port":8066},"theme":"flatly"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}