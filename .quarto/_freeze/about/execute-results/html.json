{
  "hash": "fffa204522bea35b63f22de1309c88d0",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"About\"\n---\n\n\nAbout this site\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 2\n```\n\n\n:::\n:::\n---\ntitle: \"Step 2: CAT Settings\"\n---\n\n```{=html}\n<div style=\"\n  background-color: rgba(24, 188, 156, 0.1);  /* #18bc9c with 20% opacity */\n  border: 1px solid #18bc9c;\n  padding: 20px;\n\">\n  <div class=\"d-flex gap-3 mt-1\">\n    <fieldset class=\"flex-fill\"> \n    <!-- CAT Name -->\n    <div>\n        <label for=\"catName\" class=\"form-label\">CAT Name</label>\n        <input type=\"text\" class=\"form-control\" id=\"catName\" placeholder=\"Enter CAT name\">\n    </div>\n    </fieldset>\n    <fieldset class=\"flex-fill\">\n    <!-- Personal Key -->\n    <div>\n      <label for=\"personalKey\" class=\"form-label\">Personal Key</label>\n        <input type=\"password\" class=\"form-control\" id=\"personalKey\" placeholder=\"Enter personal key\" autocomplete  =\"off\">\n    </div>\n    </fieldset>\n  </div>\n    \n    <hr>\n    \n    <!-- Radio Buttons -->\n    <div class=\"d-flex gap-3 mt-4\">\n      \n       <fieldset class=\"flex-fill\">\n      <legend>IRT model</legend>\n      <div>\n      <label for=\"model\" class=\"form-label mt-2\">Select IRT model type</label>\n      <select class=\"form-select\" id=\"model\">\n        <option>1-Parameter Logistic Model (Rasch)</option>\n        <option selected>2-Parameter Logistic Model</option>\n        <!--<option>3-Parameter Logistic Model</option>-->\n        <!--<option>4-Parameter Logistic Model</option>-->\n        <option>Graded Response Model</option>\n        <option>Generalized Partial Credit Model (GPCM)</option>\n      </select>\n    </div>\n    \n    <div>\n    <label for=\"param\" class=\"form-label\">Select the item type</label>\n    <select class=\"form-select\" id=\"param\">\n      <option selected>Blank</option>\n      <option>Intercept-Slope Parameterization</option>\n      <option>IRT Parameterization</option>\n    </select>\n  </div>\n      \n      </fieldset>\n      \n    <fieldset class=\"flex-fill\">\n      <legend>CAT Type</legend>\n      <div class=\"form-check\">\n        <input class=\"form-check-input\" type=\"radio\" name=\"catType\" id=\"fixedLength\" value=\"fixed\" checked>\n        <label class=\"form-check-label\" for=\"fixedLength\">Fixed-length</label>\n      </div>\n      <div class=\"form-check\">\n        <input class=\"form-check-input\" type=\"radio\" name=\"catType\" id=\"variableLength\" value=\"variable\">\n        <label class=\"form-check-label\" for=\"variableLength\">Variable-length</label>\n      </div>\n      <div class=\"form-check disabled\">\n        <input class=\"form-check-input\" type=\"radio\" name=\"catType\" id=\"Random\" value=\"random\" disabled>\n        <label class=\"form-check-label\" for=\"random\">Random</label>\n      </div>\n      \n          <!-- Conditional Inputs -->\n    <div id=\"fixedInput\" class=\"mt-3\">\n      <label for=\"maxItems\" class=\"form-label\">Maximum number of items administered</label>\n      <input type=\"number\" class=\"form-control\" id=\"maxItems\" min=\"1\" value = \"10\">\n    </div>\n\n    <div id=\"variableInput\" class=\"mt-3\" style=\"display: none;\">\n      <label for=\"minSE\" class=\"form-label\">Minimum Standard Error (SE) of latent trait estimate (default is 0.3)</label>\n      <input type=\"number\" class=\"form-control\" id=\"minSE\" step=\"0.01\" min=\"0\" max = \"1\" value = \"0.3\">\n    </div>\n    \n    </fieldset>\n    \n   \n      </div>\n      \n\n\n\n<!-- Advanced -->\n<div class=\"accordion mt-3\" id=\"accordionExample\">\n  <div class=\"accordion-item\">\n    <button class=\"accordion-button collapsed\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#collapseOne\" aria-expanded=\"false\" aria-controls=\"collapseOne\">\n      Optional Settings for Advanced mirtCAT:: users\n    </button>\n    <div id=\"collapseOne\" class=\"accordion-collapse collapse\" aria-labelledby=\"headingOne\" data-bs-parent=\"#accordionExample\">\n      <div class=\"accordion-body\">\n        <p>\n          The survey/test is generated using the <code>mirtCAT::mirtCAT()</code> function with the following inputs: \n          <code>criteria = \"MI\"</code> or <code>criteria = \"Drule\"</code> for unidimensional and multidimensional test srespectively, \n          <code>start_item = \"MI\"</code> for first item selection, and <code>method = \"EAP\"</code> for ability estimation.\n          If you want to use different values <strong> only for these three arguments</strong>, please specify them as an R list below:\n        </p>\n        <input type=\"text\" id=\"mirtcatextra\" class=\"form-control mt-2\" placeholder='e.g. list(criteria = \"MEPV\", method = \"MAP\")'>\n      </div>\n    </div>\n  </div>\n</div>\n\n    <!-- Submit -->\n    <button type=\"button\" class=\"btn btn-outline-success btn-lg mt-4\" onclick=\"submitCAT()\">Configure CAT</button>\n</div>\n```\n```{=html}\n<script>\n  function submitCAT() {\n        document.querySelectorAll('input[name=\"catType\"]').forEach(el => {\n        el.addEventListener('change', () => {\n          const type = document.querySelector('input[name=\"catType\"]:checked').value;\n          document.getElementById(\"fixedInput\").style.display = (type === \"fixed\") ? \"block\" : \"none\";\n          document.getElementById(\"variableInput\").style.display = (type === \"variable\") ? \"block\" : \"none\";\n        });\n      });\n    \n      let param = document.getElementById('param').value;\n      let model = document.getElementById('model').value;\n      let reparam = (param === \"Intercept-Slope Parameterization\") ? \"no\" : \"yes\";\n      \n      if (model === \"1-Parameter Logistic Model (Rasch)\") model = \"Rasch\";\n      if (model === \"2-Parameter Logistic Model\") model = \"2PL\";\n      if (model === \"Graded Response Model\") model = \"graded\";\n      if (model === \"Generalized Partial Credit Model (GPCM)\") model = \"gpcm\";\n      \n    const config = {\n      catName: document.getElementById(\"catName\").value,\n      personalKey: document.getElementById(\"personalKey\").value,\n      catType: document.querySelector('input[name=\"catType\"]:checked').value,\n      model: model,\n      reparam: reparam,\n      mirtcatextra: document.getElementById('mirtcatextra').value\n    };\n\n    if (config.catType === \"fixed\") {\n      config.maxItems = parseInt(document.getElementById(\"maxItems\").value);\n    } else if (config.catType === \"variable\") {\n      config.minSE = parseFloat(document.getElementById(\"minSE\").value);\n    }\n    console.log(config)\n    \n    fetch(\"https://qualcat.duckdns.org/api/v0/cat-config\", {\n    method: \"POST\",\n    headers: {\n         \"Content-Type\": \"application/json\",\n          \"x-api-key\": config.personalKey},\n      body: JSON.stringify(config)\n    })\n    .then(res => {\n       if (!res.ok) {\n         return res.json().then(err => {\n           throw new Error(err.message || \"Unknown error\");\n         });\n       }\n       return res.json();\n     })\n    .then(data => alert(\"CAT configuration saved!\"))\n    .catch(err => alert(\"Error: \" + err));\n  }\n</script>\n```\n\n",
    "supporting": [
      "about_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}