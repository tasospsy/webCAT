---
title: "Step 0: Create Itembank Blueprint"
---

The itembank blueprint is provided to ensure that no errors occur at the later stages and that the structure of the itembank columns is correct. You can use it as a template to fill in the correct data for your test/survey.

Please enter the correct properties for your test to download the itembank blueprint.

```{=html}
<!-- MAIN HTML PAGE -->
<div style="
  background-color: rgba(24, 188, 156, 0.1);  /* #18bc9c with 20% opacity */
  border: 1px solid #18bc9c;
  padding: 20px;
">
<div class="d-flex gap-3 mt-1">
  <!-- 1st row -->
  <fieldset class="flex-fill">
  <div class="form-floating flex-grow-1">
    <input type="number" class="form-control" id="J" placeholder=" " min="1" value="5">
    <label for="J">Enter the total number of items</label>
  </div>
  </fieldset>
  <fieldset class="flex-fill">
  <div>
    <label for="itemType" class="form-label">Select the item type</label>
    <select class="form-select" id="itemType">
      <option>Dichotomous Items</option>
      <option>Polytomous Items</option>
    </select>
  </div>
  </fieldset>
</div>

<div class="d-flex gap-3 mt-1">
  <!-- 2nd row -->
  <fieldset class="flex-fill">
    <div class="form-floating flex-grow-1 mt-2">
    <input type="number" class="form-control" id="responseOptions" placeholder=" " min="2" value="4">
    <label for="responseOptions">Enter the number of response options</label>
  </div>
  </fieldset>
  <fieldset class="flex-fill">
  <div class="form-floating flex-grow-1 mt-2">
     <input type="number" class="form-control" id="factors" placeholder=" " min="1" value="1">
    <label for="F">Enter the number of dimensions/latent traits</label>
  </div>
  </fieldset>
</div>

  <button class="btn btn-outline-success mt-3" onclick="sendData()">Get Itembank Blueprint</button>
</div>
```
```{=html}
<script>
async function sendData() {
    // create the payload
    const payload = {
      J: document.getElementById("J").value,
      itemType: document.getElementById("itemType").value, //"Dichotomous Items" or "Polytomous Items"
      factors: document.getElementById("factors").value,
      responseOptions: document.getElementById("responseOptions").value
    };

    console.log("Sending JSON:", payload);
    
  try {
    // 1. Send to API and wait for response
    const res = await fetch("https://qualcat.duckdns.org/api/v0/itembank-blueprint", {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(payload)
    });

    // API returns CSV -> get blob
    const blob = await res.blob();
    console.log("Response:", res);
    
    // Create download link
    const url = window.URL.createObjectURL(blob);
    const a = document.createElement("a");
    a.href = url;
    a.download = "itembank_blueprint.csv";
    document.body.appendChild(a);
    a.click();
    a.remove();
    window.URL.revokeObjectURL(url);

  } catch (error) {
    console.error("Error:", error);
    alert("Could not download file.");
  }
}
</script>
<hr>
```
```{r, include = FALSE}
#library(DT)
#data.path <- "https://sharestats.github.io/itembank/sharestats_website.csv"

```
